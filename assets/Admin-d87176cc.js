import{_ as L,r as K,o as r,c as l,a as s,t as i,h as j,w as n,v as P,F as I,d as D,e as u,f as O,g as S,b as R}from"./index-d218426f.js";import{_ as T}from"./seetravel-539a8206.js";const z={inject:["io","user","login","logout"],components:{},setup(){},data:()=>({selected:null,placeholder:"data:image/jpeg;base64,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",groups:[],passports:null,filter:""}),watch:{async selected(){var A,e,d;((A=this.user)!=null&&A.name||(d=(e=this.user)==null?void 0:e.value)!=null&&d.name)&&await this.listPassports()},async"user.name"(){await this.listPassports()}},computed:{filtered(){var A;return(((A=this.passports)==null?void 0:A.data)||[]).filter(e=>e.first_name.toLowerCase().includes(this.filter.toLowerCase())||e.last_name.toLowerCase().includes(this.filter.toLowerCase()))}},async mounted(){await this.listGroups()},methods:{async removeSingle(A){A&&confirm("Remove "+A.first_name+" "+A.last_name+"?")&&(await this.io.service("/types/passports").remove(A._id),this.passports.data=this.passports.data.filter(e=>e._id!==A._id))},async save(A){await this.io.service("/types/passports").patch(A._id,A),alert("Updated")},async add(){const A=prompt("Group Title");if(!A)return;let e=await this.io.service("/types/groups").create({title:A});await this.listGroups(),this.selected=this.groups.find(d=>d._id===e._id)},async remove(){var A;confirm("Delete group including all passports?")&&(await this.io.service("/types/groups").remove(this.selected._id),await this.listGroups(),this.selected=(A=this.groups)==null?void 0:A[0])},async listGroups(){var A,e;this.groups=(A=await this.io.service("/types/groups").find({query:{$limit:1e3}}))==null?void 0:A.data,this.selected||(this.selected=(e=this.groups)==null?void 0:e[0])},async listPassports(){this.passports=await this.io.service("/types/passports").find({query:{group_id:this.selected._id,$limit:1e3}})},open(A){window.open(A,"_blank")}}},W={class:"flex-col flex bg-slate-50"},k=s("h1",{class:"mb-8 text-center text-6xl mt-12"}," Admin Panel ",-1),M={style:{"text-align":"center",width:"100%","margin-bottom":"50px"}},J={key:0,class:"p-6 xl:grid-cols-1 lg:grid-cols-3 sm:grid-cols-1 container m-auto grid gap-6"},G={class:"p-6 inline-block shadow-slate-300 shadow rounded bg-white mx-auto text-center"},q={class:"mb-3 font-semibold text-2xl"},Y={class:"text-slate-500"},_={key:0,class:"p-4 bg-slate-100"},N={class:"flex-col flex mx-auto mb-24 text-left",style:{"max-width":"320px",width:"320px"}},X={style:{margin:"auto","margin-top":"40px","margin-bottom":"20px"},class:"text-xl w-full"},Z=["value"],$={class:"items-center border-b mx-auto mb-2 max-w-3xl flex-row flex relative pb-2",style:{"max-height":"100px"}},AA={class:"w-1/4"},eA=["onUpdate:modelValue"],tA={class:"w-1/4"},sA=["onUpdate:modelValue"],oA={class:"relative w-1/4 max-h-full"},rA=["src","onClick"],lA=["href","download"],aA={class:"w-1/4 text-right"},dA=["onClick"],iA=["onClick"];function nA(A,e,d,uA,cA,o){var c,w,p,m,h,g,b,v,f,Q,B,x,C,E,y,F,U;const V=K("router-link"),H=K("Footer");return r(),l("div",W,[s("header",null,[s("img",{src:T,class:"cursor-pointer mx-auto mt-8",style:{"max-width":"320px"},onClick:e[0]||(e[0]=t=>A.$router.push("/"))}),k]),s("main",M,[(c=o.user)!=null&&c.email||(p=(w=o.user)==null?void 0:w.value)!=null&&p.email?(r(),l("section",J,[s("div",G,[s("h3",q,i(((m=o.user)==null?void 0:m.name)||((g=(h=o.user)==null?void 0:h.value)==null?void 0:g.name)),1),s("p",Y,i(((b=o.user)==null?void 0:b.email)||((f=(v=o.user)==null?void 0:v.value)==null?void 0:f.email)),1)])])):j("",!0),s("section",null,[(Q=o.user)!=null&&Q.email||(x=(B=o.user)==null?void 0:B.value)!=null&&x.email?(r(),l("button",{key:0,onClick:e[1]||(e[1]=(...t)=>o.logout&&o.logout(...t)),class:"bg-purple-400 from-purple-500 bg-gradient-to-br hover:bg-purple-600 hover:from-purple-600 transition-shadow hover:drop-shadow-lg drop-shadow p-3 rounded text-white"}," Log out ⇾ ")):(r(),l("button",{key:1,onClick:e[2]||(e[2]=(...t)=>o.login&&o.login(...t)),class:"bg-purple-400 from-purple-500 bg-gradient-to-br hover:bg-purple-600 hover:from-purple-600 transition-shadow hover:drop-shadow-lg drop-shadow p-3 rounded text-white"}," Login ⇾ "))])]),(C=o.user)!=null&&C.email||(y=(E=o.user)==null?void 0:E.value)!=null&&y.email?(r(),l("section",_,[s("div",N,[s("button",{onClick:e[3]||(e[3]=(...t)=>o.add&&o.add(...t)),class:"mt-4 bg-blue-400 from-blue-500 bg-gradient-to-br hover:bg-blue-600 hover:from-blue-600 transition-shadow hover:drop-shadow-lg drop-shadow p-3 rounded text-white"}," Add New Group ⇾ "),s("label",X," Selected Group: "+i((F=A.selected)==null?void 0:F.title),1),n(s("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>A.selected=t),class:"hover:bg-slate-300 bg-slate-200 transition-shadow hover:drop-shadow-lg drop-shadow p-3 rounded"},[(r(!0),l(I,null,D(A.groups,t=>(r(),l("option",{value:t},i(t.title),9,Z))),256))],512),[[P,A.selected]]),s("button",{onClick:e[5]||(e[5]=(...t)=>o.remove&&o.remove(...t)),class:"mt-2 bg-red-400 from-red-500 bg-gradient-to-br hover:bg-red-600 hover:from-red-600 transition-shadow hover:drop-shadow-lg drop-shadow p-3 rounded text-white"}," Delete "+i((U=A.selected)==null?void 0:U.title),1)]),n(s("input",{class:"p-2 rounded shadow mb-12 max-w-3xl mx-auto block","onUpdate:modelValue":e[6]||(e[6]=t=>A.filter=t),style:{width:"calc(100% - 10px)"},placeholder:"Filter..."},null,512),[[u,A.filter]]),(r(!0),l(I,null,D(o.filtered,t=>(r(),l("div",$,[s("div",AA,[n(s("input",{class:"p-2 rounded shadow","onUpdate:modelValue":a=>t.first_name=a,style:{width:"calc(100% - 10px)"}},null,8,eA),[[u,t.first_name]])]),s("div",tA,[n(s("input",{class:"w-full p-2 rounded shadow","onUpdate:modelValue":a=>t.last_name=a,style:{width:"calc(100% - 10px)"}},null,8,sA),[[u,t.last_name]])]),s("div",oA,[s("img",{src:t.image||A.placeholder,class:"cursor-pointer object-center object-contain mx-auto pb-9",style:{"max-height":"90px",width:"100%"},onClick:a=>o.open(t.image||A.placeholder)},null,8,rA),s("a",{class:"bg-slate-400 from-slate-500 bg-gradient-to-br hover:bg-slate-600 hover:from-slate-600 transition-shadow hover:drop-shadow-lg drop-shadow p-1 rounded text-white absolute bottom-0",style:{left:"50%",transform:"translateX(-50%)"},href:t.image||A.placeholder,download:t.media.original_name}," Download ",8,lA)]),s("div",aA,[s("button",{onClick:a=>o.removeSingle(t),class:"bg-red-400 from-red-500 bg-gradient-to-br hover:bg-red-600 hover:from-red-600 transition-shadow hover:drop-shadow-lg drop-shadow p-2 mr-3 rounded text-white"}," Remove ",8,dA),s("button",{onClick:a=>o.save(t),class:"bg-emerald-400 from-emerald-500 bg-gradient-to-br hover:bg-emerald-600 hover:from-emerald-600 transition-shadow hover:drop-shadow-lg drop-shadow p-2 rounded text-white"}," Save ",8,iA)])]))),256))])):j("",!0),O(V,{to:"/",class:"my-12 text-center hover:text-slate-700"},{default:S(()=>[R(" Home ")]),_:1}),O(H)])}const mA=L(z,[["render",nA]]);export{mA as default};
